(function(){"use strict";var e={7030:function(e,t,a){var r=a(6369),s=a(8499),o=a.n(s),i=a(9252),l=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"#app"}},[e.isShowLogin?t("MyLogin"):t("MyFrame",{attrs:{"login-data":e.loginData}})],1)},n=[],u=function(){var e=this,t=e._self._c;return t("div",{staticClass:"app"},[t("el-menu",{staticClass:"el-menu-vertical",attrs:{"background-color":"#333744","text-color":"#fff","active-text-color":"#409Eff","default-active":e.selectIndex,collapse:e.isCollapse},on:{open:e.handleOpen,close:e.handleClose}},[t("div",{staticClass:"logo-div el-menu-item"},[t("img",{staticClass:"logo",attrs:{src:a(4759),alt:"签到系统用户管理"}}),t("span",{staticStyle:{"font-weight":"bold"},attrs:{slot:"title"},slot:"title"},[e._v("签到系统用户管理")])]),t("el-menu-item",{staticStyle:{"margin-top":"2vh"},attrs:{index:"1"},on:{click:function(t){e.isShow="MyMain"}}},[t("i",{staticClass:"el-icon-s-home"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("首页")])]),t("el-menu-item",{attrs:{index:"2"},on:{click:function(t){e.isShow="UserManagement"}}},[t("i",{staticClass:"el-icon-s-custom"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户管理")])]),t("el-menu-item",{attrs:{index:"6"},on:{click:function(t){e.isShow="GroupManagement"}}},[t("i",{staticClass:"el-icon-menu"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("群组管理")])]),t("el-menu-item",{attrs:{index:"3"}},[t("i",{staticClass:"el-icon-s-flag"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("签到管理")])]),t("el-menu-item",{attrs:{index:"4"}},[t("i",{staticClass:"el-icon-s-platform"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("前端设置")])]),t("el-menu-item",{attrs:{index:"5"}},[t("i",{staticClass:"el-icon-s-help"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("管理员")])])],1),t("div",{staticClass:"main-container",style:"margin-left:"+e.mainContainerLeft+"px"},[t("MyNavbar",{attrs:{"user-image":e.loginData.result.userImg}}),t("div",{staticClass:"cps-main-container"},[t("transition",{attrs:{name:"fade"}},[t("MyMain",{directives:[{name:"show",rawName:"v-show",value:"MyMain"===e.isShow,expression:"isShow === 'MyMain'"}],staticClass:"chc"})],1),t("transition",{attrs:{name:"fade"}},[t("UserManagement",{directives:[{name:"show",rawName:"v-show",value:"UserManagement"===e.isShow,expression:"isShow === 'UserManagement'"}],staticClass:"chc"})],1),t("transition",{attrs:{name:"fade"}},[t("GroupManagement",{directives:[{name:"show",rawName:"v-show",value:"GroupManagement"===e.isShow,expression:"isShow === 'GroupManagement'"}],staticClass:"chc"})],1)],1)],1)],1)},c=[],d=function(){var e=this,t=e._self._c;return t("div",[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("div",{staticClass:"grid-content bg-purple"},[t("el-card",{staticClass:"box-card"},[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"main"}})])],1)]),t("el-col",{attrs:{span:12}},[t("div",{staticClass:"grid-content bg-purple-light"},[t("el-card",{staticClass:"box-card"},[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"main1"}})])],1)])],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("div",{staticClass:"grid-content bg-purple"},[t("el-card",{staticClass:"box-card"},[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"main2"}})])],1)]),t("el-col",{attrs:{span:12}},[t("div",{staticClass:"grid-content bg-purple-light"},[t("el-card",{staticClass:"box-card"},[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"main3"}})])],1)])],1)],1)},m=[];function p(e,t,a){const r=t.init(document.getElementById(e),"dark");return a.backgroundColor={type:"radial",x:.3,y:.3,r:.8,colorStops:[{offset:0,color:"#424859"},{offset:1,color:"#424859"}]},r.setOption(a),r}function f(...e){for(let t=0;t<e.length;t++){const a=e[t];if(null===a||void 0===a)return!0;if(h(a)&&a.length<=0)return console.log(55555),!0}return!1}function h(e){return"[object String]"===Object.prototype.toString.call(e)}var g={name:"MyMain",methods:{drawChart(){p("main",this.$echarts,{title:{text:"软件每日启动次数"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:["03-10","03-11","03-12","03-13","03-14","03-15","03-16"]},yAxis:{type:"value"},series:[{data:[230,330,332,410,435,247,600],type:"line",markLine:{data:[{type:"average",name:""}]}}]}),p("main1",this.$echarts,{backgroundColor:"#2c343c",title:{text:"软件用户画像"},tooltip:{trigger:"item"},visualMap:{show:!1,min:80,max:600,inRange:{colorLightness:[0,1]}},series:[{name:"Access From",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:335,name:"男"},{value:310,name:"女"},{value:274,name:"河南"},{value:235,name:"老师"}].sort((function(e,t){return e.value-t.value})),roseType:"radius",label:{color:"rgba(255, 255, 255, 0.3)"},labelLine:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"},smooth:.2,length:10,length2:20},itemStyle:{color:"#499a5c",shadowBlur:200,shadowColor:"rgba(0, 0, 0, 0.5)"},animationType:"scale",animationEasing:"elasticOut",animationDelay:function(){return 200*Math.random()}}]}),p("main2",this.$echarts,{title:{text:"软件崩溃次数"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:["03-10","03-11","03-12","03-13","03-14","03-15","03-16"]},yAxis:{type:"value"},series:[{areaStyle:{},data:[20,10,12,10,5,6,10],type:"line",color:"rgba(255,0,0,0.6)",markPoint:{data:[{type:"max",name:"Max"},{type:"min",name:"Min"}]},markLine:{data:[{type:"average",name:""}]}}]}),p("main3",this.$echarts,{title:{text:"软件新增用户"},tooltip:{trigger:"axis"},xAxis:{data:["03-10","03-11","03-12","03-13","03-14","03-15","03-16"]},yAxis:{},series:[{name:"软件新增用户",type:"bar",data:[100,150,136,110,140,180,166],markLine:{data:[{type:"average",name:""}]}}]})}},mounted(){this.drawChart()}},b=g,v=a(1001),w=(0,v.Z)(b,d,m,!1,null,"60dd8d50",null),y=w.exports,D=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{"margin-top":"10px"}}),t("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"}},[e._v("新增")]),t("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-refresh-left"},on:{click:function(t){return e.refreshData(!0)}}},[e._v("刷新")]),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.filter((t=>!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())))}},[t("el-table-column",{attrs:{width:"40%",align:"center",label:"ID",prop:"id"}}),t("el-table-column",{attrs:{label:"用户账号",align:"center",prop:"userAccount"}}),t("el-table-column",{attrs:{label:"用户头像",align:"center",prop:"userImg"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("img",{staticStyle:{"border-radius":"13px"},attrs:{src:e.baseAddress+a.row.userImg+"&token="+e.token,width:"26px",height:"26px",alt:""}})]}}])}),t("el-table-column",{attrs:{align:"center",label:"用户性别"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{effect:"light",size:"small",color:a.row.userSex?"#3a78bf":"#b23abf"}},[t("span",{staticStyle:{color:"white"}},[e._v(e._s(a.row.userSex?"男":"女"))])])]}}])}),t("el-table-column",{attrs:{align:"center",label:"用户姓名",prop:"userName"}}),t("el-table-column",{attrs:{align:"center",label:"用户学校",prop:"userUnit"}}),t("el-table-column",{attrs:{label:"用户日期",align:"center",prop:"userBirth"}}),t("el-table-column",{attrs:{label:"用户年龄",align:"center",prop:"userAge"}}),t("el-table-column",{attrs:{label:"用户简介",width:"100%","show-overflow-tooltip":!0,align:"center",prop:"userIntroduce"}}),t("el-table-column",{attrs:{label:"用户等级",width:"100%","show-overflow-tooltip":!0,align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{effect:"light",size:"small",color:2===a.row.userGrade?"#bf763a":1===a.row.userGrade?"#60bf3a":"#3abfb5"}},[t("span",{staticStyle:{color:"white"}},[e._v(e._s(2===a.row.userGrade?"ROOT":1===a.row.userGrade?"管理员":"普通用户"))])])]}}])}),t("el-table-column",{attrs:{width:"100%","show-overflow-tooltip":!0,align:"center",label:"用户拉黑"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-switch",{attrs:{"active-color":"#ff4949","inactive-color":"#13ce66"},on:{change:function(t){return e.userLimit(a.row.id,a.row.userLimit)}},model:{value:a.row.userLimit,callback:function(t){e.$set(a.row,"userLimit",t)},expression:"scope.row.userLimit"}})]}}])}),t("el-table-column",{attrs:{width:"200px","show-overflow-tooltip":!0,align:"right"},scopedSlots:e._u([{key:"header",fn:function({}){return[t("el-input",{staticStyle:{color:"white"},attrs:{size:"mini",placeholder:"输入关键字"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-edit"},on:{click:function(t){return e.handleEdit(a.$index,a.row)}}},[e._v("编辑 ")]),t("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.handleDelete(a.row)}}},[e._v("删除 ")])]}}])})],1),t("MyEditUserDialog",{attrs:{visible:e.visibleEditDialog,"table-data":e.clickTimeRow},on:{"update:visible":function(t){e.visibleEditDialog=t}}})],1)},x=[],_=a(4161);let k="42.192.221.73",C="8012",M="http",S=-2,$=1e4,L=M+"://"+k+":"+C;var A=a(680);const I="token";function O(){return A.Z.get(I)}function U(e){return A.Z.set(I,e)}function T(){return A.Z.remove(I)}function F(e){const t=_.Z.create({baseURL:L,timeout:$});return t.interceptors.request.use((e=>(e.headers["token"]=O(),e)),(()=>{})),t.interceptors.response.use((e=>(200===e.status&&200===e.data.error_code||(e.data.error_code===S?(0,s.Message)({type:"warning",message:"登录失效，请重新登录！",center:!0}):(0,s.Message)({type:"error",message:e.data.reason,center:!0})),e)),(e=>e)),t(e)}function G(e,t,a){e.then((e=>{200===e.status&&200===e.data.error_code?t(e.data):(e.data.error_code,a(e.data))})).catch((()=>{a(null)}))}const E={post(e){return e.transformRequest=[function(e){let t="";for(let a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t=t.substring(0,t.lastIndexOf("&")),t}],e.headers={"Content-Type":"application/x-www-form-urlencoded"},F({...e,method:"POST"})},get(e){return F({...e,method:"GET"})},patch(e){return F({...e,method:"PATCH"})}};var R=E;function N(e,t){return R.post({url:"/myf-bg-api/login",data:{account:e,password:t}})}function z(e){return R.get({url:`/myf-bg-api/info?token=${e}`})}function P(){return R.get({url:"/myf-bg-api/all-user"})}function B(e){return R.post({url:"/myf-bg-api/edit-user",data:e})}function j(e){return R.get({url:`/myf-bg-api/del-user/${e}`})}function Z(){return R.get({url:"/myf-bg-api/all-group"})}function q(e){return R.get({url:`/myf-bg-api/del-group/${e}`})}function H(){return R.get({url:"/myf-puc-api/puc-group-type"})}var J=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",e._g(e._b({attrs:{"modal-append-to-body":!1,title:"编辑用户"},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[t("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"medium","label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户账号"}},[t("el-input",{style:{width:"100%"},attrs:{placeholder:"不可更改",readonly:"",disabled:!0,clearable:""},model:{value:e.formData.userAccount,callback:function(t){e.$set(e.formData,"userAccount",t)},expression:"formData.userAccount"}})],1),t("el-form-item",{attrs:{label:"年龄"}},[t("el-input",{style:{width:"100%"},attrs:{placeholder:"不可更改",readonly:"",disabled:!0,clearable:""},model:{value:e.formData.userAge,callback:function(t){e.$set(e.formData,"userAge",t)},expression:"formData.userAge"}})],1),t("el-form-item",{attrs:{label:"密码"}},[t("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入密码",clearable:"","show-password":""},model:{value:e.formData.userPassword,callback:function(t){e.$set(e.formData,"userPassword",t)},expression:"formData.userPassword"}})],1),t("el-form-item",{attrs:{label:"性别"}},[t("el-radio-group",{attrs:{size:"small"},model:{value:e.formData.userSex,callback:function(t){e.$set(e.formData,"userSex",t)},expression:"formData.userSex"}},e._l(e.fieldSexOptions,(function(a,r){return t("el-radio-button",{key:r,attrs:{label:a.value,disabled:a.disabled,border:""}},[e._v(e._s(a.label)+" ")])})),1)],1),t("el-form-item",{attrs:{label:"用户姓名"}},[t("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入用户姓名",clearable:""},model:{value:e.formData.userName,callback:function(t){e.$set(e.formData,"userName",t)},expression:"formData.userName"}})],1),t("el-form-item",{attrs:{label:"单位组织"}},[t("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入单位组织",clearable:""},model:{value:e.formData.userUnit,callback:function(t){e.$set(e.formData,"userUnit",t)},expression:"formData.userUnit"}})],1),t("el-form-item",{attrs:{label:"出生日期"}},[t("el-date-picker",{style:{width:"100%"},attrs:{format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"请选择出生日期",clearable:""},model:{value:e.formData.userBirth,callback:function(t){e.$set(e.formData,"userBirth",t)},expression:"formData.userBirth"}})],1),t("el-form-item",{attrs:{label:"用户介绍"}},[t("el-input",{style:{width:"100%"},attrs:{type:"textarea",placeholder:"请输入用户介绍",maxlength:200,autosize:{minRows:4,maxRows:4}},model:{value:e.formData.userIntroduce,callback:function(t){e.$set(e.formData,"userIntroduce",t)},expression:"formData.userIntroduce"}})],1),t("el-form-item",{attrs:{label:"用户级别"}},[t("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择用户级别",clearable:""},model:{value:e.formData.userGrade,callback:function(t){e.$set(e.formData,"userGrade",t)},expression:"formData.userGrade"}},e._l(e.fieldGradeOptions,(function(e,a){return t("el-option",{key:a,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),t("el-form-item",{attrs:{label:"修改图片"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"auto-upload":!0,"before-upload":e.beforeAvatarUpload}},[e.image_url?t("img",{staticClass:"up_data_avatar",attrs:{src:e.image_url,alt:""}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon-up-data"})])],1),t("el-form-item",{attrs:{label:"拉黑"}},[t("el-switch",{attrs:{"active-color":"#DE1D1D"},model:{value:e.formData.userLimit,callback:function(t){e.$set(e.formData,"userLimit",t)},expression:"formData.userLimit"}})],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.close}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确定")])],1)],1)],1)},K=[],Q={name:"MyEditUserDialog",inheritAttrs:!1,components:{},props:{tableData:{type:void 0,default:void 0}},data(){return{image_url:void 0,file_raw:void 0,token:O(),baseAddress:L,formData:{userAccount:void 0,userAge:void 0,userPassword:void 0,userSex:!1,userName:void 0,userUnit:void 0,userBirth:void 0,userIntroduce:void 0,userGrade:0,userLimit:!1},rules:{userAccount:[],userAge:[],userPassword:[],userSex:[],userName:[],userUnit:[],userBirth:[],userIntroduce:[],userGrade:[],userLimit:[]},fieldSexOptions:[{label:"男",value:!0},{label:"女",value:!1}],fieldGradeOptions:[{label:"普通用户",value:0},{label:"管理员",value:1},{label:"ROOT管理员",value:2}]}},computed:{},watch:{},created(){},mounted(){},methods:{onOpen(){this.formData.userPassword="",this.formData.userAccount=this.tableData.userAccount,this.formData.userAge=this.tableData.userAge,this.formData.userSex=this.tableData.userSex,this.formData.userName=this.tableData.userName,this.formData.userUnit=this.tableData.userUnit,this.formData.userBirth=this.tableData.userBirth,this.formData.userIntroduce=this.tableData.userIntroduce,this.formData.userGrade=this.tableData.userGrade,this.formData.userLimit=this.tableData.userLimit,this.image_url=this.baseAddress+this.tableData.userImg+"&token="+this.token},onClose(){this.$refs["elForm"].resetFields(),this.file_raw=void 0,this.image_url=void 0},close(){this.file_raw=void 0,this.image_url=void 0,this.$emit("update:visible",!1)},beforeUpload(e,t,a,r,o=null){let i=!1;e.forEach((function(e){a.type===e&&(i=!0)}));const l=a.size/1024/1024<t;return i?l?(r(a),!0):((0,s.Message)({type:"warning",message:`上传文件大小不能超过 ${t}MB!`,center:!0}),null!=o&&o(a,`上传文件大小不能超过 ${t}MB!`),!1):((0,s.Message)({type:"warning",message:"上传格式暂不支持!",center:!0}),null!=o&&o(a,"上传格式暂不支持!"),!1)},beforeAvatarUpload(e){const t=this;t.beforeUpload(["image/jpeg","image/png","image/webp"],10,e,(function(){t.file_raw=e,t.image_url=window.URL.createObjectURL(e)}))},handleConfirm(){this.$refs["elForm"].validate((e=>{if(!e)return;const t=this.$loading({lock:!0,text:"修改中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});G(B({user_id:this.tableData.id,password:void 0===this.formData.userPassword||null==this.formData.userPassword||""===this.formData.userPassword?"":this.formData.userPassword,sex:this.formData.userSex,name:this.formData.userName,unit:this.formData.userUnit,birth:this.formData.userBirth,introduce:this.formData.userIntroduce,grade:this.formData.userGrade,limit:this.formData.userLimit,image:void 0===this.file_raw||null==this.file_raw||""===this.file_raw?"":this.file_raw}),(()=>{t.close(),this.$bus.$emit("isRefresh",!0),(0,s.Message)({type:"success",message:"修改完成",center:!0}),this.file_raw=void 0}),(()=>{t.close()})),this.close()}))}}},V=Q,W=(0,v.Z)(V,J,K,!1,null,"0ed12a29",null),X=W.exports,Y={name:"UserManagement",components:{MyEditUserDialog:X},data(){return{tableData:void 0,search:"",token:O(),baseAddress:L,visibleEditDialog:!1,clickTimeRow:void 0}},mounted(){this.refreshData(),this.$bus.$on("isRefresh",(()=>{this.refreshData()}))},methods:{handleEdit(e,t){console.log(e,t),this.clickTimeRow=t,this.visibleEditDialog=!0},handleDelete(e){this.$confirm(`是否删除${e.userAccount}用户`,"删除此用户",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const t=this.$loading({lock:!0,text:"修改中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});G(j(e.id),(()=>{this.refreshData(),t.close(),(0,s.Message)({type:"success",message:"删除完成",center:!0})}),(()=>{t.close(),this.refreshData()}))})).catch((()=>{}))},userLimit(e,t){const a=this.$loading({lock:!0,text:"修改中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});G(B({user_id:e,limit:t}),(()=>{this.refreshData(),a.close(),(0,s.Message)({type:"success",message:"修改完成",center:!0})}),(()=>{a.close(),this.refreshData()}))},refreshData(e=!1){G(P(),(t=>{this.tableData=t.result,e&&(0,s.Message)({type:"success",message:"刷新完成",center:!0})}),(()=>{(0,s.Message)({type:"error",message:"获取失败",center:!0})}))}}},ee=Y,te=(0,v.Z)(ee,D,x,!1,null,"b20a1fa2",null),ae=te.exports,re=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{"margin-top":"10px"}}),t("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"}},[e._v("新增")]),t("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-refresh-left"},on:{click:function(t){return e.refreshData(!0)}}},[e._v("刷新")]),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.filter((t=>!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())))}},[t("el-table-column",{attrs:{width:"40%",align:"center",label:"ID",prop:"id"}}),t("el-table-column",{attrs:{label:"组创建者Id",align:"center",prop:"userId"}}),t("el-table-column",{attrs:{label:"组图像",align:"center",prop:"userImg"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("img",{staticStyle:{"border-radius":"13px"},attrs:{src:e.baseAddress+a.row.groupImg+"?token="+e.token,width:"26px",height:"26px",alt:""}})]}}])}),t("el-table-column",{attrs:{align:"center",label:"组名字",prop:"groupName"}}),t("el-table-column",{attrs:{label:"组介绍",width:"100%","show-overflow-tooltip":!0,align:"center",prop:"groupIntroduce"}}),t("el-table-column",{attrs:{align:"center",label:"组类型"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tag",{attrs:{effect:"light",size:"small"}},[e._v(e._s(a.row.groupType))])]}}])}),t("el-table-column",{attrs:{width:"200px","show-overflow-tooltip":!0,align:"right"},scopedSlots:e._u([{key:"header",fn:function({}){return[t("el-input",{staticStyle:{color:"white"},attrs:{size:"mini",placeholder:"输入关键字"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}},{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-edit"},on:{click:function(t){return e.handleEdit(a.$index,a.row)}}},[e._v("编辑 ")]),t("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(t){return e.handleDelete(a.row)}}},[e._v("删除 ")])]}}])})],1),t("MyEditGroupDialog",{attrs:{visible:e.visibleEditDialog,"table-data":e.clickTimeRow},on:{"update:visible":function(t){e.visibleEditDialog=t}}})],1)},se=[],oe=function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",e._g(e._b({attrs:{"modal-append-to-body":!1,title:"编辑小组"},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[t("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"medium","label-width":"100px"}},[t("el-form-item",{attrs:{label:"组名"}},[t("el-input",{style:{width:"100%"},attrs:{placeholder:"请输入组名",clearable:""},model:{value:e.formData.groupName,callback:function(t){e.$set(e.formData,"groupName",t)},expression:"formData.groupName"}})],1),t("el-form-item",{attrs:{label:"组介绍"}},[t("el-input",{style:{width:"100%"},attrs:{type:"textarea",placeholder:"请输入组介绍",maxlength:200,autosize:{minRows:4,maxRows:4}},model:{value:e.formData.groupIntroduce,callback:function(t){e.$set(e.formData,"groupIntroduce",t)},expression:"formData.groupIntroduce"}})],1),t("el-form-item",{attrs:{label:"组类型"}},[t("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择组类型",clearable:""},model:{value:e.formData.groupType,callback:function(t){e.$set(e.formData,"groupType",t)},expression:"formData.groupType"}},e._l(e.fieldGradeOptions,(function(e,a){return t("el-option",{key:a,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1),t("el-form-item",{attrs:{label:"修改图片"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#","show-file-list":!1,"auto-upload":!0,"before-upload":e.beforeAvatarUpload}},[e.image_url?t("img",{staticClass:"up_data_avatar",attrs:{src:e.image_url,alt:""}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon-up-data"})])],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.close}},[e._v("取消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确定")])],1)],1)],1)},ie=[],le=(a(7658),{name:"MyEditGroupDialog",inheritAttrs:!1,components:{},props:{tableData:{type:void 0,default:void 0}},data(){return{image_url:void 0,file_raw:void 0,token:O(),baseAddress:L,formData:{groupName:void 0,groupIntroduce:void 0,groupType:void 0,groupImg:void 0},rules:{groupName:[],groupIntroduce:[],groupType:[]},fieldGradeOptions:[{label:"课堂组",value:"课堂组"},{label:"会议组",value:"会议组"},{label:"培训组",value:"培训组"}]}},computed:{},watch:{},created(){},mounted(){},methods:{onOpen(){this.formData.groupName=this.tableData.groupName,this.formData.groupIntroduce=this.tableData.groupIntroduce,this.formData.groupType=this.tableData.groupType,this.image_url=this.baseAddress+this.tableData.groupImg+"?token="+this.token,this.getGroupType()},onClose(){this.$refs["elForm"].resetFields(),this.file_raw=void 0,this.image_url=void 0},close(){this.file_raw=void 0,this.image_url=void 0,this.$emit("update:visible",!1)},getGroupType(){G(H(),(e=>{const t=e.result;let a=Array();for(let r=0;r<t.length;r++)a.push({label:t[r],value:t[r]});this.fieldGradeOptions=a}))},beforeUpload(e,t,a,r,o=null){let i=!1;e.forEach((function(e){a.type===e&&(i=!0)}));const l=a.size/1024/1024<t;return i?l?(r(a),!0):((0,s.Message)({type:"warning",message:`上传文件大小不能超过 ${t}MB!`,center:!0}),null!=o&&o(a,`上传文件大小不能超过 ${t}MB!`),!1):((0,s.Message)({type:"warning",message:"上传格式暂不支持!",center:!0}),null!=o&&o(a,"上传格式暂不支持!"),!1)},beforeAvatarUpload(e){const t=this;t.beforeUpload(["image/jpeg","image/png","image/webp"],10,e,(function(){t.file_raw=e,t.image_url=window.URL.createObjectURL(e)}))},handleConfirm(){this.$refs["elForm"].validate((e=>{if(!e)return;const t=this.$loading({lock:!0,text:"修改中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});G(B({user_id:this.tableData.id,password:void 0===this.formData.userPassword||null==this.formData.userPassword||""===this.formData.userPassword?"":this.formData.userPassword,sex:this.formData.userSex,name:this.formData.userName,unit:this.formData.userUnit,birth:this.formData.userBirth,introduce:this.formData.userIntroduce,grade:this.formData.userGrade,limit:this.formData.userLimit,image:void 0===this.file_raw||null==this.file_raw||""===this.file_raw?"":this.file_raw}),(()=>{t.close(),this.$bus.$emit("isRefresh",!0),(0,s.Message)({type:"success",message:"修改完成",center:!0}),this.file_raw=void 0}),(()=>{t.close()})),this.close()}))}}}),ne=le,ue=(0,v.Z)(ne,oe,ie,!1,null,"f58fb450",null),ce=ue.exports,de={name:"GroupManagement",components:{MyEditGroupDialog:ce},data(){return{tableData:void 0,search:"",token:O(),baseAddress:L,visibleEditDialog:!1,clickTimeRow:void 0}},mounted(){this.refreshData(),this.$bus.$on("isRefresh",(()=>{this.refreshData()}))},methods:{handleEdit(e,t){console.log(e,t),this.clickTimeRow=t,this.visibleEditDialog=!0},handleDelete(e){this.$confirm(`是否删除名为 "${e.groupName}" 的小组`,"删除此小组",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const t=this.$loading({lock:!0,text:"修改中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});G(q(e.id),(()=>{this.refreshData(),t.close(),(0,s.Message)({type:"success",message:"删除完成",center:!0})}),(()=>{t.close(),this.refreshData()}))})).catch((()=>{}))},refreshData(e=!1){G(Z(),(t=>{this.tableData=t.result,e&&(0,s.Message)({type:"success",message:"刷新完成",center:!0})}),(()=>{(0,s.Message)({type:"error",message:"获取失败",center:!0})}))}}},me=de,pe=(0,v.Z)(me,re,se,!1,null,"f2f315d2",null),fe=pe.exports,he=function(){var e=this,t=e._self._c;return t("div",{staticClass:"navbar"},[t("i",{class:e.icon+" container",on:{click:e.navbarClick}}),t("el-dropdown",{staticStyle:{float:"right"},on:{command:e.handleCommand}},[t("div",{staticClass:"user-avatar"},[t("img",{attrs:{src:e.baseAddress+e.userImage+"&token="+e.token,alt:""}})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"a"}},[e._v("退出登录")]),t("el-dropdown-item",{attrs:{command:"b"}},[e._v("管理员设置")])],1)],1)],1)},ge=[],be={name:"MyNavbar",props:{userImage:{type:String,default:"03b0d39583f48206768a7534e55bcpng.png"}},data(){return{icon:"el-icon-s-fold",isCollapse:!ke.data().isCollapse,baseAddress:L,visibleEditUserDialog:!1,token:O()}},methods:{navbarClick(){this.isCollapse=!this.isCollapse,this.$bus.$emit("isCollapse",!this.isCollapse),this.icon=this.isCollapse?"el-icon-s-unfold":"el-icon-s-fold"},handleCommand(e){"a"===e&&(T(),this.$bus.$emit("isShowLogin",!0))}}},ve=be,we=(0,v.Z)(ve,he,ge,!1,null,"0fc2f1ce",null),ye=we.exports,De={name:"MyFrame",components:{MyMain:y,UserManagement:ae,GroupManagement:fe,MyNavbar:ye},props:{loginData:{type:Object,default:void 0}},data(){return{isShow:"MyMain",isCollapse:!1,selectIndex:"1",mainContainerLeft:200}},mounted(){this.$bus.$on("isCollapse",(e=>{this.logoClick(e)}))},methods:{logoClick(e){this.isCollapse=e,this.mainContainerLeft=this.isCollapse?64:200},handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)}}},xe=De,_e=(0,v.Z)(xe,u,c,!1,null,"bf53fb40",null),ke=_e.exports,Ce=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[t("el-card",{staticClass:"box-card"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules}},[t("h3",{staticClass:"title",staticStyle:{color:"white"}},[e._v("考勤APP后台管理系统")]),t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-checkbox",{staticStyle:{margin:"0 0 25px 0"},model:{value:e.loginForm.rememberMe,callback:function(t){e.$set(e.loginForm,"rememberMe",t)},expression:"loginForm.rememberMe"}},[e._v("记住密码")]),t("el-form-item",{staticStyle:{width:"100%"}},[t("el-button",{staticStyle:{width:"100%","margin-top":"30px",height:"45px"},attrs:{loading:e.loading,size:"medium",type:"primary"},on:{click:e.handleLogin}},[e.loading?t("span",[e._v("登 录 中...")]):t("span",[e._v("登 录")])])],1)],1)],1)],1)},Me=[],Se={name:"MyLogin",data(){return{codeUrl:"",loginForm:{username:"",password:"",rememberMe:!1},loginRules:{username:[{required:!0,trigger:"blur",message:"请输入您的账号"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"}]},loading:!1}},methods:{handleLogin(){f(this.loginForm.username,this.loginForm.password)||(this.loading=!0,G(N(this.loginForm.username,this.loginForm.password),(e=>{this.loading=!1,U(e.result.loginToken),console.log("-----------  ok"),this.$bus.$emit("isShowLogin",!1)}),(()=>{T(),this.loading=!1,console.log("----------- error"),this.$bus.$emit("isShowLogin",!0)})))}}},$e=Se,Le=(0,v.Z)($e,Ce,Me,!1,null,"15813a34",null),Ae=Le.exports,Ie={name:"App",components:{MyFrame:ke,MyLogin:Ae},data(){return{isShowLogin:!1,loginData:void 0}},mounted(){this.$bus.$on("isShowLogin",(e=>{this.isShowLogin=e,this.lon()})),this.lon()},methods:{lon(){const e=O();null===e||void 0===e||""===e?this.isShowLogin=!0:G(z(e),(e=>{this.isShowLogin=!1,this.loginData=e}),(()=>{T(),this.isShowLogin=!0,this.loginData=null}))}}},Oe=Ie,Ue=(0,v.Z)(Oe,l,n,!1,null,null,null),Te=Ue.exports;r["default"].prototype.$echarts=i;const Fe=e=>{const t=e.methods.resizeListener;e.methods.resizeListener=function(){window.requestAnimationFrame(t.bind(this))}};Fe(s.Table),r["default"].config.productionTip=!1,r["default"].use(o()),new r["default"]({el:"#app",render:e=>e(Te),beforeCreate(){r["default"].prototype.$bus=this}})},4759:function(e,t,a){e.exports=a.p+"assets/img/app_logo.3be619d7.svg"}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,s,o){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],s=e[c][1],o=e[c][2];for(var l=!0,n=0;n<r.length;n++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[n])}))?r.splice(n--,1):(l=!1,o<i&&(i=o));if(l){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,s,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p=""}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,o,i=r[0],l=r[1],n=r[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(n)var c=n(a)}for(t&&t(r);u<i.length;u++)o=i[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},r=self["webpackChunkadmin"]=self["webpackChunkadmin"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(7030)}));r=a.O(r)})();
//# sourceMappingURL=app.dff162f4.js.map